<ui:composition template="#{ themeManager.backendTemplatePath }" 
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:aploscc="http://java.sun.com/jsf/composite/components"
	xmlns:aplos="http://www.aplossystems.co.uk/aplosComponents"
	xmlns:ui="http://java.sun.com/jsf/facelets">
	<ui:define name="heading">
		Edit Available Backing Pages
	</ui:define>
	
	<ui:define name="body">
		<h:form id="edit" enctype="multipart/form-data">
			<h:panelGroup rendered="#{backingPage.showingConfirmationScreen}">
				<h3>Conflict Warning</h3>
				<p>Some of the classes you have attempted to disable are currently bound. You can disable
				the classes but this will cause the binding to be removed from the menu. If the binding is the
				default action for a tab this will cause the tab to be no longer rendered.</p><br/>
				<ul><h:outputText escape="false" value="#{backingPage.attachedClassesText}" /></ul>
				<h:commandButton value="Disable the Bound Classes" action="#{backingPage.removeBoundClasses}" />
				<h:commandButton value="Cancel" action="#{backingPage.hideConfirmationScreen}" />
			</h:panelGroup>
			<h:panelGroup rendered="#{!backingPage.showingConfirmationScreen}">
				<table class="aplos-form-table">
					<tr>
						<td>Disabled</td>
						<td></td>
						<td>Enabled</td>
					</tr>
					<tr>
						<td>
							<h:selectManyListbox style="width:350px" size="15" collectionType="java.util.ArrayList" value="#{backingPage.selectedAvailableClasses}" converter="aplosAbstractBeanConverter">
								<f:selectItems value="#{backingPage.availableClassSelectItems}" /> 
							</h:selectManyListbox>
						</td>
						<td>
							<h:commandButton value="Enable &gt;&gt;" action="#{backingPage.enableClasses}" />
							<br/><br/>
							<h:commandButton value="&lt;&lt; Disable" action="#{backingPage.disableClasses}" />
						</td>
						<td>
							<h:selectManyListbox style="width:350px" size="15" collectionType="java.util.ArrayList" value="#{backingPage.selectedEnabledClasses}" converter="aplosAbstractBeanConverter">
								<f:selectItems value="#{backingPage.enabledClassSelectItems}" /> 
							</h:selectManyListbox>
						</td>
					</tr>
				</table>
			</h:panelGroup>
		</h:form>	
	</ui:define>
	<ui:define name="editButtons">
	<aploscc:controlPanel>
		<f:facet name="upperRightControlPanel">


		</f:facet>
	</aploscc:controlPanel>
</ui:define>
</ui:composition>
